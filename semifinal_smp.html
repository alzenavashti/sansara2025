<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pengumuman Semifinal SiNARAN 2025 Tingkat SMP/MTs/Sederajat</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Baloo+2:wght@400;500;600;700;800&family=Comfortaa:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              display: ['Fredoka', 'Baloo 2', 'system-ui', 'ui-sans-serif'],
              body: ['Comfortaa', 'Baloo 2', 'system-ui', 'ui-sans-serif'],
              title: ['Baloo 2', 'Fredoka', 'system-ui', 'ui-sans-serif']
            },
            colors: {
              peach: '#FDE7D9',
              orange: '#E07838',
              lilac: '#DCD5FF',
              mint: '#D9F7EA',
              sky: '#D8EEFF',
              grape: '#6C63FF'
            },
            boxShadow: {
              blob: '0 10px 40px rgba(108, 99, 255, .25)'
            },
            keyframes: {
              floaty: { '0%,100%': { transform: 'translateY(0px)' }, '50%': { transform: 'translateY(-10px)' } }
            },
            animation: {
              floaty: 'floaty 6s ease-in-out infinite'
            }
          }
        }
      }
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
      .noise {
        position: fixed; inset: 0; pointer-events: none; opacity: .05; mix-blend-mode: multiply;
        background-image: url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140">\
            <filter id="n">\
              <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/>\
              <feColorMatrix type="saturate" values="0"/>\
            </filter>\
            <rect width="100%" height="100%" filter="url(%23n)" opacity="0.2"/>\
          </svg>');
      }
    </style>
  </head>

  <body class="bg-white text-slate-800 font-body">
    <!-- Background -->
    <div class="fixed -z-10 inset-0 overflow-hidden">
      <div class="fixed -z-20 inset-0">
        <img src="bg.png" alt="Background" class="w-full h-full object-cover">
      </div>
      <div class="absolute -top-20 -left-20 w-[40rem] h-[40rem] bg-peach rounded-full blur-3xl opacity-70 animate-floaty"></div>
      <div class="absolute top-1/2 -translate-y-1/2 -right-24 w-[38rem] h-[38rem] bg-lilac rounded-full blur-3xl opacity-70 animate-floaty" style="animation-delay:1s"></div>
      <div class="absolute bottom-[-6rem] left-1/3 w-[30rem] h-[30rem] bg-mint rounded-full blur-3xl opacity-70 animate-floaty" style="animation-delay:2s"></div>
    </div>
    <div class="noise"></div>

    <main>
      <!-- === Pengumuman Semifinal === -->
      <section id="announcement" class="max-w-6xl mx-auto px-6 py-16 relative text-center">
        <h1 class="font-title text-4xl md:text-5xl font-extrabold text-grape mb-4">
          Pengumuman Semifinal SiNARAN 2025 Tingkat SMP/MTs/Sederajat
        </h1>
        <p class="text-slate-700 text-lg md:text-xl max-w-3xl mx-auto leading-relaxed mb-12">
          Selamat kepada peserta yang berhasil melaju ke babak <strong>Semifinal SiNARAN 2025!</strong><br>
          Terima kasih atas partisipasi luar biasa dari seluruh peserta. Berikut adalah daftar peserta yang lolos ke tahap semifinal.
        </p>

        <div class="overflow-x-auto rounded-3xl shadow-blob bg-white/80 backdrop-blur-sm relative">
          <!-- Loading overlay -->
          <div id="sheet-loading"
               class="absolute inset-0 flex items-center justify-center bg-white/70 rounded-3xl">
            <span class="text-grape font-semibold">Memuat data semifinal...</span>
          </div>
          <table id="sheet-table" class="min-w-full text-left border-collapse font-body">
            <thead class="bg-grape text-white">
              <tr id="sheet-header"></tr>
            </thead>
            <tbody id="sheet-body" class="divide-y divide-slate-200"></tbody>
          </table>
        </div>

        <p class="mt-10 text-slate-600 text-sm md:text-base italic">
          *Keputusan panitia bersifat final dan tidak dapat diganggu gugat.
        </p>
      </section>

      <!-- Extra CSS to make first column smaller -->
      <style>
        #sheet-table th:first-child,
        #sheet-table td:first-child {
          width: 80px;
          text-align: center;
          white-space: nowrap;
        }
      </style>
    </main>

    <footer class="py-10 text-center text-sm text-slate-500 font-body">
      © 2025 SiNARAN • Dibuat oleh BRIDA Kota Semarang
    </footer>

    <script>
      // ✅ Ganti dengan link CSV semifinal Anda
      const SHEET_CSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTN-uRlXSsL2vbEeKx9pOS2En4VGTqM0sH9NdKCR07c3BC5Cicgq2we9w_okBsNDOdv7QVXwRcQ9q_Z/pub?output=csv";

      window.addEventListener("DOMContentLoaded", async () => {
        const loading = document.getElementById("sheet-loading");
        try {
          const res = await fetch(SHEET_CSV);
          if (!res.ok) throw new Error("Network error");
          const text = await res.text();

          const rows = text.trim().split("\n").map(r => r.split(","));
          if (rows.length === 0) throw new Error("No data");

          const [header, ...body] = rows;

          // Render header
          const headEl = document.getElementById("sheet-header");
          header.forEach(col => {
            const th = document.createElement("th");
            th.className = "px-6 py-4 text-sm font-semibold uppercase tracking-wide";
            th.textContent = col;
            headEl.appendChild(th);
          });

          // Render body
          const bodyEl = document.getElementById("sheet-body");
          body.forEach((r, idx) => {
            const tr = document.createElement("tr");
            tr.className = idx % 2 === 0
              ? "bg-white hover:bg-mint/40 transition-colors"
              : "bg-sky/30 hover:bg-mint/40 transition-colors";

            r.forEach(cell => {
              const td = document.createElement("td");
              td.className = "px-6 py-3 text-slate-700 text-sm";
              td.textContent = cell;
              tr.appendChild(td);
            });
            bodyEl.appendChild(tr);
          });
        } catch (err) {
          console.error("❌ Failed to load sheet:", err);
          document.getElementById("sheet-body").innerHTML =
            `<tr><td colspan="99" class="px-6 py-4 text-center text-red-600">Gagal memuat data semifinal.</td></tr>`;
        } finally {
          loading.style.display = "none";
        }
      });
    </script>

    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
